<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "45923ada94573fee7c82cc4f0c3bb344",
  "translation_date": "2025-10-28T23:48:24+00:00",
  "source_file": "Workshop/Readme.md",
  "language_code": "lt"
}
-->
# EdgeAI pradedantiesiems - dirbtuvės

> **Praktinis mokymosi kelias kuriant gamybai paruoštas Edge AI programas**
>
> Įvaldykite vietinį AI diegimą su Microsoft Foundry Local, nuo pirmojo pokalbio užbaigimo iki daugelio agentų koordinavimo per 6 progresyvias sesijas.

---

## 🎯 Įvadas

Sveiki atvykę į **EdgeAI pradedantiesiems dirbtuves** - praktinį vadovą, kaip kurti intelektualias programas, veikiančias tik vietinėje techninėje įrangoje. Šios dirbtuvės paverčia teorines Edge AI koncepcijas realiais įgūdžiais per palaipsniui sudėtingėjančias užduotis, naudojant Microsoft Foundry Local ir mažus kalbos modelius (SLM).

### Kodėl šios dirbtuvės?

**Edge AI revoliucija jau čia**

Organizacijos visame pasaulyje pereina nuo debesų priklausomų AI prie Edge kompiuterijos dėl trijų svarbių priežasčių:

1. **Privatumas ir atitiktis** - Apdorokite jautrius duomenis vietoje, nesiųsdami jų į debesį (HIPAA, GDPR, finansiniai reglamentai)
2. **Veikimas** - Pašalinkite tinklo vėlavimą (50-500 ms vietoje, palyginti su 500-2000 ms debesų kelione)
3. **Išlaidų kontrolė** - Pašalinkite API išlaidas už kiekvieną žodį ir mastelį be debesų išlaidų

**Tačiau Edge AI yra kitoks**

AI veikimas vietoje reikalauja naujų įgūdžių:
- Modelių pasirinkimas ir optimizavimas pagal išteklių apribojimus
- Vietinių paslaugų valdymas ir techninės įrangos pagreitinimas
- Užklausų kūrimas mažesniems modeliams
- Gamybos diegimo modeliai Edge įrenginiams

**Šios dirbtuvės suteiks šiuos įgūdžius**

Per 6 susitelkusias sesijas (~3 valandos iš viso) pereisite nuo "Sveikas pasauli" iki gamybai paruoštų daugelio agentų sistemų diegimo - viskas veiks vietoje jūsų kompiuteryje.

---

## 📚 Mokymosi tikslai

Baigę šias dirbtuves, galėsite:

### Pagrindinės kompetencijos
1. **Diegti ir valdyti vietines AI paslaugas**
   - Įdiegti ir konfigūruoti Microsoft Foundry Local
   - Pasirinkti tinkamus modelius Edge diegimui
   - Valdyti modelių gyvavimo ciklą (atsisiųsti, įkelti, talpinti)
   - Stebėti išteklių naudojimą ir optimizuoti veikimą

2. **Kurti AI pagrįstas programas**
   - Įgyvendinti OpenAI suderinamus pokalbių užbaigimus vietoje
   - Kurti efektyvias užklausas mažiems kalbos modeliams
   - Tvarkyti srautinį atsakymą geresniam vartotojo patyrimui
   - Integruoti vietinius modelius į esamas programas

3. **Kurti RAG (Retrieval Augmented Generation) sistemas**
   - Kurti semantinę paiešką su įterpimais
   - Pagrįsti LLM atsakymus specifinėmis žiniomis
   - Vertinti RAG kokybę pagal pramonės standartus
   - Mastelį nuo prototipo iki gamybos

4. **Optimizuoti modelio veikimą**
   - Testuoti kelis modelius pagal jūsų poreikius
   - Matyti vėlavimą, pralaidumą ir pirmojo žodžio laiką
   - Pasirinkti optimaliausius modelius pagal greičio/kokybės kompromisus
   - Palyginti SLM ir LLM kompromisus realiose situacijose

5. **Koordinuoti daugelio agentų sistemas**
   - Kurti specializuotus agentus skirtingoms užduotims
   - Įgyvendinti agentų atmintį ir konteksto valdymą
   - Koordinuoti agentus sudėtinguose darbo procesuose
   - Protingai nukreipti užklausas per kelis modelius

6. **Diegti gamybai paruoštus sprendimus**
   - Įgyvendinti klaidų tvarkymą ir pakartojimo logiką
   - Stebėti žodžių naudojimą ir sistemos išteklius
   - Kurti mastelio architektūras su modelio kaip įrankio modeliais
   - Planuoti migracijos kelius nuo Edge iki hibridinio (Edge + debesų)

---

## 🎓 Mokymosi rezultatai

### Ką sukursite

Baigę šias dirbtuves, sukursite:

| Sesija | Rezultatas | Demonstruojami įgūdžiai |
|--------|------------|-------------------------|
| **1** | Pokalbių programa su srautu | Paslaugų nustatymas, pagrindiniai užbaigimai, srautinė UX |
| **2** | RAG sistema su vertinimu | Įterpimai, semantinė paieška, kokybės metrika |
| **3** | Daugelio modelių testavimo rinkinys | Veikimo matavimas, modelių palyginimas |
| **4** | SLM ir LLM palyginimas | Kompromisų analizė, optimizavimo strategijos |
| **5** | Daugelio agentų koordinavimo sistema | Agentų dizainas, atminties valdymas, koordinavimas |
| **6** | Protinga nukreipimo sistema | Ketinimų nustatymas, modelio pasirinkimas, mastelio galimybės |

### Kompetencijų matrica

| Įgūdžių lygis | Sesija 1-2 | Sesija 3-4 | Sesija 5-6 |
|---------------|------------|------------|------------|
| **Pradedantysis** | ✅ Nustatymas ir pagrindai | ⚠️ Sudėtinga | ❌ Per sudėtinga |
| **Vidutinis** | ✅ Greita apžvalga | ✅ Pagrindinis mokymasis | ⚠️ Iššūkiai |
| **Pažengęs** | ✅ Lengvai įveikiama | ✅ Tobulinimas | ✅ Gamybos modeliai |

### Karjerai reikalingi įgūdžiai

**Po šių dirbtuvių būsite pasiruošę:**

✅ **Kurti privatumo pirmumo programas**
- Sveikatos priežiūros programos, tvarkančios PHI/PII vietoje
- Finansinės paslaugos su atitikties reikalavimais
- Vyriausybės sistemos su duomenų suvereniteto poreikiais

✅ **Optimizuoti Edge aplinkoms**
- IoT įrenginiai su ribotais ištekliais
- Programos, veikiančios be interneto
- Mažo vėlavimo realaus laiko sistemos

✅ **Kurti intelektualias architektūras**
- Daugelio agentų sistemos sudėtingiems darbo procesams
- Hibridinis Edge-debesų diegimas
- Išlaidų optimizuota AI infrastruktūra

✅ **Vadovauti Edge AI iniciatyvoms**
- Vertinti Edge AI galimybes projektams
- Pasirinkti tinkamus modelius ir sistemas
- Kurti mastelio vietinius AI sprendimus

---

## 🗺️ Dirbtuvių struktūra

### Sesijų apžvalga (6 sesijos × 30 minučių = 3 valandos)

| Sesija | Tema | Dėmesys | Trukmė |
|--------|------|---------|-------|
| **1** | Pradžia su Foundry Local | Įdiegimas, patvirtinimas, pirmieji užbaigimai | 30 min |
| **2** | AI sprendimų kūrimas su RAG | Užklausų kūrimas, įterpimai, vertinimas | 30 min |
| **3** | Atvirojo kodo modeliai | Modelių atradimas, testavimas, pasirinkimas | 30 min |
| **4** | Naujausi modeliai | SLM ir LLM, optimizavimas, sistemos | 30 min |
| **5** | AI pagrįsti agentai | Agentų dizainas, koordinavimas, atmintis | 30 min |
| **6** | Modeliai kaip įrankiai | Nukreipimas, grandinės, mastelio strategijos | 30 min |

---

## 🚀 Greitas startas

### Reikalavimai

**Sistemos reikalavimai:**
- **OS**: Windows 10/11, macOS 11+ arba Linux (Ubuntu 20.04+)
- **RAM**: Mažiausiai 8GB, rekomenduojama 16GB+
- **Saugykla**: 10GB+ laisvos vietos modeliams
- **CPU**: Modernus procesorius su AVX2 palaikymu
- **GPU** (neprivaloma): CUDA suderinamas arba Qualcomm NPU pagreitinimui

**Programinės įrangos reikalavimai:**
- **Python 3.8+** ([Atsisiųsti](https://www.python.org/downloads/))
- **Microsoft Foundry Local** ([Diegimo vadovas](../../../Workshop))
- **Git** ([Atsisiųsti](https://git-scm.com/downloads))
- **Visual Studio Code** (rekomenduojama) ([Atsisiųsti](https://code.visualstudio.com/))

### Nustatymas per 3 žingsnius

#### 1. Įdiegti Foundry Local

**Windows:**
```powershell
winget install Microsoft.FoundryLocal
```

**macOS:**
```bash
brew tap microsoft/foundrylocal
brew install foundrylocal
```

**Patvirtinti diegimą:**
```bash
foundry --version
foundry service status
```

**Užtikrinti, kad Azure AI Foundry Local veikia su fiksuotu portu**

```bash
# Set FoundryLocal to use port 58123 (default)
foundry service set --port 58123 --show

# Or use a different port
foundry service set --port 58000 --show
```

**Patvirtinti veikimą:**
```bash
# Check service status
foundry service status

# Test the endpoint
curl http://127.0.0.1:58123/v1/models
```
**Rasti galimus modelius**
Norėdami pamatyti, kurie modeliai yra prieinami jūsų Foundry Local instancijoje, galite užklausti modelių galinio taško:

```bash
# cmd/bash/powershell
foundry model list
```

Naudojant interneto galinį tašką 

```bash
# Windows PowerShell
powershell -Command "Invoke-RestMethod -Uri 'http://127.0.0.1:58123/v1/models' -Method Get"

# Or using curl (if available)
curl http://127.0.0.1:58123/v1/models
```

#### 2. Klonuoti saugyklą ir įdiegti priklausomybes

```bash
# Clone repository
git clone https://github.com/microsoft/edgeai-for-beginners.git
cd edgeai-for-beginners/Workshop

# Create virtual environment
python -m venv .venv

# Activate virtual environment
# Windows:
.\.venv\Scripts\activate
# macOS/Linux:
source .venv/bin/activate

# Install dependencies
pip install -r requirements.txt
```

#### 3. Paleisti pirmąjį pavyzdį

```bash
# Start Foundry Local and load a model
foundry model run phi-4-mini

# Run the chat bootstrap sample
cd samples
python -m session01.chat_bootstrap "What is edge AI?"
```

**✅ Sėkmė!** Turėtumėte matyti srautinį atsakymą apie Edge AI.

---

## 📦 Dirbtuvių ištekliai

### Python pavyzdžiai

Progresyvūs praktiniai pavyzdžiai, demonstruojantys kiekvieną koncepciją:

| Sesija | Pavyzdys | Aprašymas | Paleidimo laikas |
|--------|----------|-----------|------------------|
| 1 | [`chat_bootstrap.py`](../../../Workshop/samples/session01/chat_bootstrap.py) | Pagrindinis ir srautinis pokalbis | ~30s |
| 2 | [`rag_pipeline.py`](../../../Workshop/samples/session02/rag_pipeline.py) | RAG su įterpimais | ~45s |
| 2 | [`rag_eval_ragas.py`](../../../Workshop/samples/session02/rag_eval_ragas.py) | RAG kokybės vertinimas | ~60s |
| 3 | [`benchmark_oss_models.py`](../../../Workshop/samples/session03/benchmark_oss_models.py) | Daugelio modelių testavimas | ~2-3m |
| 4 | [`model_compare.py`](../../../Workshop/samples/session04/model_compare.py) | SLM ir LLM palyginimas | ~45s |
| 5 | [`agents_orchestrator.py`](../../../Workshop/samples/session05/agents_orchestrator.py) | Daugelio agentų sistema | ~60s |
| 6 | [`models_router.py`](../../../Workshop/samples/session06/models_router.py) | Ketinimų pagrįstas nukreipimas | ~45s |
| 6 | [`models_pipeline.py`](../../../Workshop/samples/session06/models_pipeline.py) | Daugiapakopė grandinė | ~60s |

### Jupyter užrašų knygelės

Interaktyvus tyrinėjimas su paaiškinimais ir vizualizacijomis:

| Sesija | Užrašų knygelė | Aprašymas | Sudėtingumas |
|--------|---------------|-----------|--------------|
| 1 | [`session01_chat_bootstrap.ipynb`](./notebooks/session01_chat_bootstrap.ipynb) | Pokalbių pagrindai ir srautas | ⭐ Pradedantysis |
| 2 | [`session02_rag_pipeline.ipynb`](./notebooks/session02_rag_pipeline.ipynb) | RAG sistemos kūrimas | ⭐⭐ Vidutinis |
| 2 | [`session02_rag_eval_ragas.ipynb`](./notebooks/session02_rag_eval_ragas.ipynb) | RAG kokybės vertinimas | ⭐⭐ Vidutinis |
| 3 | [`session03_benchmark_oss_models.ipynb`](./notebooks/session03_benchmark_oss_models.ipynb) | Modelių testavimas | ⭐⭐ Vidutinis |
| 4 | [`session04_model_compare.ipynb`](./notebooks/session04_model_compare.ipynb) | Modelių palyginimas | ⭐⭐ Vidutinis |
| 5 | [`session05_agents_orchestrator.ipynb`](./notebooks/session05_agents_orchestrator.ipynb) | Agentų koordinavimas | ⭐⭐⭐ Pažengęs |
| 6 | [`session06_models_router.ipynb`](./notebooks/session06_models_router.ipynb) | Ketinimų nukreipimas | ⭐⭐⭐ Pažengęs |
| 6 | [`session06_models_pipeline.ipynb`](./notebooks/session06_models_pipeline.ipynb) | Grandinės koordinavimas | ⭐⭐⭐ Pažengęs |

### Dokumentacija

Išsamūs vadovai ir nuorodos:

| Dokumentas | Aprašymas | Naudoti kada |
|------------|-----------|--------------|
| [QUICK_START.md](./QUICK_START.md) | Greito nustatymo vadovas | Pradėti nuo nulio |
| [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) | Komandų ir API atmintinė | Reikia greitų atsakymų |
| [FOUNDRY_SDK_QUICKREF.md](./FOUNDRY_SDK_QUICKREF.md) | SDK modeliai ir pavyzdžiai | Rašant kodą |
| [ENV_CONFIGURATION.md](./ENV_CONFIGURATION.md) | Aplinkos kintamųjų vadovas | Konfigūruojant pavyzdžius |
| [SAMPLES_UPDATE_SUMMARY.md](./SAMPLES_UPDATE_SUMMARY.md) | Naujausi pavyzdžių patobulinimai | Suprasti pokyčius |
| [SDK_MIGRATION_NOTES.md](./SDK_MIGRATION_NOTES.md) | Migracijos vadovas | Atnaujinant kodą |
| [notebooks/TROUBLESHOOTING.md](./notebooks/TROUBLESHOOTING.md) | Dažnos problemos ir sprendimai | Šalinant klaidas |

---

## 🎓 Mokymosi kelio rekomendacijos

### Pradedantiesiems (3-4 valandos)
1. ✅ Sesija 1: Pradžia (dėmesys nustatymui ir pagrindiniam pokalbiui)
2. ✅ Sesija 2: RAG pagrindai (pradžioje praleiskite vertinimą)
3. ✅ Sesija 3: Paprastas testavimas (tik 2 modeliai)
4. ⏭️ Kol kas praleiskite 4-6 sesijas
5. 🔄 Grįžkite prie 4-6 sesijų po pirmos programos sukūrimo

### Vidutiniams kūrėjams (3 valandos)
1. ⚡ Sesija 1: Greitas nustatymo patvirtinimas
2. ✅ Sesija 2: Pilnas RAG procesas su vertinimu
3. ✅ Sesija 3: Pilnas testavimo rinkinys
4. ✅ Sesija 4: Modelio optimizavimas
5. ✅ Sesijos 5-6: Dėmesys architektūros modeliams

### Pažengusiems specialistams (2-3 valandos)
1. ⚡ Sesijos 1-3: Greita apžvalga ir patvirtinimas
2. ✅ Sesija 4: Gilus optimizavimas
3. ✅ Sesija 5: Daugelio agentų architektūra
4. ✅ Sesija 6: Gamybos modeliai ir mastelio galimybės
5. 🚀 Plėtra: Kurti pasirinktines nukreipimo logikas ir hibridinius diegimus

---

## Dirbtuvių sesijų paketas (koncentruotos 30 minučių laboratorijos)

Jei laikotės sutrumpinto 6 sesijų dirbtuvių formato, naudokite šiuos specialius vadovus (kiekvienas atitinka ir papildo platesnius modulio dokumentus aukščiau):

| Dirbtuvių sesija | Vadovas | Pagrindinis dėmesys |
|------------------|---------|---------------------|
| 1 | [Session01-GettingStartedFoundryLocal](./Session01-GettingStartedFoundryLocal.md) | Įdiegimas, patvirtinimas, paleidimas phi & GPT-OSS-20B, pagreitinimas |
| 2 | [Session02-BuildAISolutionsRAG](./Session02-BuildAISolutionsRAG.md) | Užklausų kūrimas, RAG modeliai, CSV ir dokumentų pagr
| 4 | [Session04-CuttingEdgeModels](./Session04-CuttingEdgeModels.md) | SLM ir LLM, WebGPU, Chainlit RAG, ONNX pagreitinimas |
| 5 | [Session05-AIPoweredAgents](./Session05-AIPoweredAgents.md) | Agentų vaidmenys, atmintis, įrankiai, orkestravimas |
| 6 | [Session06-ModelsAsTools](./Session06-ModelsAsTools.md) | Maršrutizavimas, grandinimas, mastelio didinimas Azure platformoje |

Kiekviename sesijos faile yra: santrauka, mokymosi tikslai, 30 minučių demonstracinis srautas, pradinio projekto failai, patikros sąrašas, trikčių šalinimas ir nuorodos į oficialų Foundry Local Python SDK.

### Pavyzdiniai scenarijai

Įdiekite dirbtuvių priklausomybes (Windows):

```powershell
cd Workshop
py -m venv .venv
.\.venv\Scripts\activate
pip install -r requirements.txt
```

macOS / Linux:

```bash
cd Workshop
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

Jei Foundry Local paslauga veikia kitame (Windows) kompiuteryje ar VM iš macOS, eksportuokite galinį tašką:

```bash
export FOUNDRY_LOCAL_ENDPOINT=http://<windows-host>:5273/v1
```

| Sesija | Scenarijus (-ai) | Aprašymas |
|--------|------------------|-----------|
| 1 | `samples/session01/chat_bootstrap.py` | Paslaugos paleidimas ir pokalbių srautas |
| 2 | `samples/session02/rag_pipeline.py` | Minimalus RAG (atminties įterpimai) |
|   | `samples/session02/rag_eval_ragas.py` | RAG vertinimas naudojant ragas metrikas |
| 3 | `samples/session03/benchmark_oss_models.py` | Kelių modelių vėlavimo ir pralaidumo testavimas |
| 4 | `samples/session04/model_compare.py` | SLM ir LLM palyginimas (vėlavimas ir pavyzdiniai rezultatai) |
| 5 | `samples/session05/agents_orchestrator.py` | Dviejų agentų tyrimų → redagavimo procesas |
| 6 | `samples/session06/models_router.py` | Maršrutizavimo pagal ketinimus demonstracija |
|   | `samples/session06/models_pipeline.py` | Daugiapakopis planavimo/vykdymo/tobulinimo procesas |

### Aplinkos kintamieji (bendri visiems pavyzdžiams)

| Kintamasis | Paskirtis | Pavyzdys |
|------------|-----------|----------|
| `FOUNDRY_LOCAL_ALIAS` | Numatytojo vieno modelio aliasas pagrindiniams pavyzdžiams | `phi-4-mini` |
| `SLM_ALIAS` / `LLM_ALIAS` | Aiškus SLM ir didesnio modelio palyginimui | `phi-4-mini` / `gpt-oss-20b` |
| `BENCH_MODELS` | Kableliais atskirtas aliasų sąrašas testavimui | `qwen2.5-0.5b,mistral-7b` |
| `BENCH_ROUNDS` | Testavimo pakartojimų skaičius kiekvienam modeliui | `3` |
| `BENCH_PROMPT` | Testavimui naudojamas raginimas | `Explain retrieval augmented generation briefly.` |
| `EMBED_MODEL` | Sentence-transformers įterpimo modelis | `sentence-transformers/all-MiniLM-L6-v2` |
| `RAG_QUESTION` | Testavimo užklausos perrašymas RAG procesui | `Why use RAG with local inference?` |
| `AGENT_QUESTION` | Agentų proceso užklausos perrašymas | `Explain why edge AI matters for compliance.` |
| `AGENT_MODEL_PRIMARY` | Modelio aliasas tyrimų agentui | `phi-4-mini` |
| `AGENT_MODEL_EDITOR` | Modelio aliasas redaktoriaus agentui (gali skirtis) | `gpt-oss-20b` |
| `SHOW_USAGE` | Kai `1`, spausdinamas sunaudotų žetonų skaičius | `1` |
| `RETRY_ON_FAIL` | Kai `1`, pakartoti vieną kartą po laikino pokalbio klaidos | `1` |
| `RETRY_BACKOFF` | Sekundės, kurias reikia palaukti prieš pakartojimą | `1.0` |

Jei kintamasis nenustatytas, scenarijai naudoja numatytąsias reikšmes. Vieno modelio demonstracijoms paprastai reikia tik `FOUNDRY_LOCAL_ALIAS`.

### Naudingumo modulis

Visi pavyzdžiai dabar naudoja bendrą pagalbinį failą `samples/workshop_utils.py`, kuris teikia:

* Kešuojamą `FoundryLocalManager` + OpenAI kliento kūrimą
* `chat_once()` pagalbinę funkciją su pasirinkimu pakartoti ir spausdinti naudojimą
* Paprastą žetonų naudojimo ataskaitą (aktyvuojama per `SHOW_USAGE=1`)

Tai sumažina dubliavimą ir pabrėžia geriausią praktiką efektyviam vietinių modelių orkestravimui.

## Papildomi patobulinimai (tarp sesijų)

| Tema | Patobulinimas | Sesijos | Aplinka / Jungiklis |
|------|---------------|---------|---------------------|
| Determinizmas | Fiksuota temperatūra + stabilūs raginimų rinkiniai | 1–6 | Nustatyti `temperature=0`, `top_p=1` |
| Žetonų naudojimo matomumas | Nuoseklus kaštų/efektyvumo mokymas | 1–6 | `SHOW_USAGE=1` |
| Pirmojo žetono srautas | Suvokiamo vėlavimo metrika | 1,3,4,6 | `BENCH_STREAM=1` (testavimui) |
| Pakartotinis atsparumas | Sprendžia laikinas šalto paleidimo problemas | Visi | `RETRY_ON_FAIL=1` + `RETRY_BACKOFF` |
| Daugiamodeliniai agentai | Heterogeninė vaidmenų specializacija | 5 | `AGENT_MODEL_PRIMARY`, `AGENT_MODEL_EDITOR` |
| Adaptyvus maršrutizavimas | Ketinimų + kaštų euristika | 6 | Išplėsti maršrutizatorių su eskalavimo logika |
| Vektorinė atmintis | Ilgalaikis semantinis prisiminimas | 2,5,6 | Integruoti FAISS/Chroma įterpimo indeksą |
| Sekimo eksportas | Auditas ir vertinimas | 2,5,6 | Pridėti JSON eilučių kiekvienam žingsniui |
| Kokybės rubrikos | Kokybinis stebėjimas | 3–6 | Antrinės vertinimo raginimai |
| Greiti testai | Greita priešdirbtuvių patikra | Visi | `python Workshop/tests/smoke.py` |

### Deterministinis greitas startas

```powershell
set FOUNDRY_LOCAL_ALIAS=phi-4-mini
set SHOW_USAGE=1
python Workshop\tests\smoke.py
```

Tikėkitės stabilių žetonų skaičių per pakartotinius identiškus įvestis.

### RAG vertinimas (2 sesija)

Naudokite `rag_eval_ragas.py`, kad apskaičiuotumėte atsakymų aktualumą, patikimumą ir konteksto tikslumą mažame sintetiniame duomenų rinkinyje:

```powershell
cd Workshop/samples
python -m session02.rag_eval_ragas
```

Išplėskite, pateikdami didesnį JSONL su klausimais, kontekstais ir teisingais atsakymais, tada konvertuokite į Hugging Face `Dataset`.

## CLI komandų tikslumo priedas

Dirbtuvėse naudojamos tik šiuo metu dokumentuotos / stabilios Foundry Local CLI komandos.

### Naudotos stabilios komandos

| Kategorija | Komanda | Paskirtis |
|------------|---------|-----------|
| Pagrindinė | `foundry --version` | Rodo įdiegtą versiją |
| Pagrindinė | `foundry init` | Inicijuoja konfigūraciją |
| Paslauga | `foundry service start` | Paleidžia vietinę paslaugą (jei ne automatiškai) |
| Paslauga | `foundry status` | Rodo paslaugos būseną |
| Modeliai | `foundry model list` | Rodo katalogą / galimus modelius |
| Modeliai | `foundry model download <alias>` | Atsisiunčia modelio svorius į kešą |
| Modeliai | `foundry model run <alias>` | Paleidžia (užkrauna) modelį vietoje; derinama su `--prompt` vienkartiniam naudojimui |
| Modeliai | `foundry model unload <alias>` / `foundry model stop <alias>` | Iškrauna modelį iš atminties (jei palaikoma) |
| Kešas | `foundry cache list` | Rodo kešuotus (atsisiųstus) modelius |
| Sistema | `foundry system info` | Aparatinės įrangos ir pagreičio galimybių apžvalga |
| Sistema | `foundry system gpu-info` | GPU diagnostinė informacija |
| Konfigūracija | `foundry config list` | Rodo dabartines konfigūracijos reikšmes |
| Konfigūracija | `foundry config set <key> <value>` | Atnaujina konfigūraciją |

### Vienkartinio raginimo šablonas

Vietoj pasenusios `model chat` subkomandos naudokite:

```powershell
foundry model run <alias> --prompt "Your question here"
```

Tai atlieka vieną raginimo/atsakymo ciklą ir užbaigia.

### Pašalinti / vengti šablonai

| Pasenę / nedokumentuoti | Pakeitimas / Rekomendacija |
|-------------------------|---------------------------|
| `foundry model chat <model> "..."` | `foundry model run <model> --prompt "..."` |
| `foundry model list --running` | Naudokite paprastą `foundry model list` + naujausią veiklą / žurnalus |
| `foundry model list --cached` | `foundry cache list` |
| `foundry model stats <model>` | Naudokite testavimo Python scenarijų + OS įrankius (Task Manager / `nvidia-smi`) |
| `foundry model benchmark ...` | `samples/session03/benchmark_oss_models.py` |

### Testavimas ir telemetrija

- Vėlavimas, p95, žetonai/sek.: `samples/session03/benchmark_oss_models.py`
- Pirmojo žetono vėlavimas (srautas): nustatykite `BENCH_STREAM=1`
- Išteklių naudojimas: OS monitoriai (Task Manager, Activity Monitor, `nvidia-smi`) + `foundry system info`.

Kai naujos CLI telemetrijos komandos bus stabilios, jas bus galima lengvai įtraukti į sesijų dokumentus.

### Automatinis sintaksės tikrinimas

Automatinis sintaksės tikrintuvas neleidžia įterpti pasenusių CLI šablonų į markdown failų kodų blokus:

Scenarijus: `Workshop/scripts/lint_markdown_cli.py`

Blokuojami pasenę šablonai kodų blokuose.

Rekomenduojami pakeitimai:
| Pasenę | Pakeitimas |
|--------|-----------|
| `foundry model chat <a> "..."` | `foundry model run <a> --prompt "..."` |
| `model list --running` | `model list` |
| `model list --cached` | `cache list` |
| `model stats` | Testavimo scenarijus + sistemos įrankiai |
| `model benchmark` | `samples/session03/benchmark_oss_models.py` |
| `model list --available` | `model list` |

Paleiskite lokaliai:
```powershell
python Workshop\scripts\lint_markdown_cli.py --verbose
```

GitHub veiksmas: `.github/workflows/markdown-cli-lint.yml` vykdomas kiekvieno įkėlimo ir PR metu.

Pasirinktinė pre-commit kabliukas:
```bash
echo "python Workshop/scripts/lint_markdown_cli.py" > .git/hooks/pre-commit
chmod +x .git/hooks/pre-commit
```

## Greita CLI → SDK migracijos lentelė

| Užduotis | CLI vienos eilutės komanda | SDK (Python) atitikmuo | Pastabos |
|----------|----------------------------|------------------------|---------|
| Paleisti modelį vieną kartą (raginimas) | `foundry model run phi-4-mini --prompt "Hello"` | `manager=FoundryLocalManager("phi-4-mini"); client=OpenAI(base_url=manager.endpoint, api_key=manager.api_key or "not-needed"); client.chat.completions.create(model=manager.get_model_info("phi-4-mini").id, messages=[{"role":"user","content":"Hello"}])` | SDK automatiškai paleidžia paslaugą ir kešavimą |
| Atsisiųsti (kešuoti) modelį | `foundry model download qwen2.5-0.5b` | `FoundryLocalManager("qwen2.5-0.5b")  # sukelia atsisiuntimą/užkrovimą` | Valdytojas pasirenka geriausią variantą, jei aliasas atitinka kelis variantus |
| Rodyti katalogą | `foundry model list` | `# naudokite valdytoją kiekvienam aliasui arba išlaikykite žinomą sąrašą` | CLI agreguoja; SDK šiuo metu per aliaso inicijavimą |
| Rodyti kešuotus modelius | `foundry cache list` | `manager.list_cached_models()` | Po valdytojo inicijavimo (bet kuris aliasas) |
| Įjungti GPU pagreitinimą | `foundry config set compute.onnx.enable_gpu true` | `# CLI veiksmas; SDK daro prielaidą, kad konfigūracija jau pritaikyta` | Konfigūracija yra išorinis šalutinis poveikis |
| Gauti galinio taško URL | (numatytasis) | `manager.endpoint` | Naudojamas OpenAI suderinamam klientui sukurti |
| Sušildyti modelį | `foundry model run <alias>` tada pirmasis raginimas | `chat_once(alias, messages=[...])` (pagalbinė funkcija) | Pagalbinės funkcijos tvarko pradinį šalto vėlavimo sušildymą |
| Išmatuoti vėlavimą | `python -m session03.benchmark_oss_models` | `import benchmark_oss_models` (arba naujas eksportavimo scenarijus) | Rekomenduojama naudoti scenarijų nuosekliems matavimams |
| Sustabdyti / iškrauti modelį | `foundry model unload <alias>` | (Nėra prieinama – paleiskite paslaugą / procesą iš naujo) | Paprastai nereikalinga dirbtuvių eigai |
| Gauti žetonų naudojimą | (rodyti išvestį) | `resp.usage.total_tokens` | Pateikiama, jei backend grąžina naudojimo objektą |

## Testavimo Markdown eksportas

Naudokite scenarijų `Workshop/scripts/export_benchmark_markdown.py`, kad paleistumėte naują testavimą (ta pati logika kaip `samples/session03/benchmark_oss_models.py`) ir sugeneruotumėte GitHub draugišką Markdown lentelę bei neapdorotą JSON.

### Pavyzdys

```powershell
python Workshop\scripts\export_benchmark_markdown.py --models "qwen2.5-0.5b,mistral-7b" --prompt "Explain retrieval augmented generation briefly." --rounds 3 --output benchmark_report.md
```

Sugeneruoti failai:
| Failas | Turinys |
|--------|---------|
| `benchmark_report.md` | Markdown lentelė + interpretavimo užuominos |
| `benchmark_report.json` | Neapdorotų metrikų masyvas (skirtumų / tendencijų sekimui) |

Nustatykite `BENCH_STREAM=1` aplinkoje, kad įtrauktumėte pirmojo žetono vėlavimą, jei palaikoma.

---

**Atsakomybės apribojimas**:  
Šis dokumentas buvo išverstas naudojant AI vertimo paslaugą [Co-op Translator](https://github.com/Azure/co-op-translator). Nors stengiamės užtikrinti tikslumą, prašome atkreipti dėmesį, kad automatiniai vertimai gali turėti klaidų ar netikslumų. Originalus dokumentas jo gimtąja kalba turėtų būti laikomas autoritetingu šaltiniu. Kritinei informacijai rekomenduojama naudoti profesionalų žmogaus vertimą. Mes neprisiimame atsakomybės už nesusipratimus ar neteisingus interpretavimus, atsiradusius dėl šio vertimo naudojimo.